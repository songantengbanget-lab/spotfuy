<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Web Lagu</title>

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(180deg,#1db954,#121212);
  font-family:sans-serif;
  color:white;
}

.player{
  width:320px;
  background:#121212;
  border-radius:24px;
  padding:20px;
  box-shadow:0 20px 40px rgba(0,0,0,.6);
}

.cover{
  width:100%;
  aspect-ratio:1/1;
  border-radius:16px;
  object-fit:cover;
}

h2{margin:15px 0 4px}
p{margin:0;color:#aaa}

.top-controls{
  display:flex;
  justify-content:center;
  gap:20px;
  margin:15px 0;
}

.icon-btn{
  background:none;
  border:none;
  font-size:20px;
  color:#aaa;
}
.icon-btn.active{color:#1db954}

.progress{
  width:100%;
}
.time{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  color:#aaa;
}

.controls{
  display:flex;
  justify-content:space-around;
  align-items:center;
  margin-top:15px;
}

.ctrl{
  width:56px;
  height:56px;
  border-radius:50%;
  border:none;
  background:#1db954;
  font-size:22px;
}
.small{
  width:46px;
  height:46px;
  background:#1db954;
}
</style>
</head>

<body>
<div class="player">
  <img id="cover" class="cover" src="cover/cover1.jpg">

  <h2 id="title">About You</h2>
  <p id="artist">The 1975</p>

  <div class="top-controls">
    <button id="shuffleBtn" class="icon-btn">üîÄ</button>
  </div>

  <input type="range" id="progress" class="progress" value="0">
  <div class="time">
    <span id="current">0:00</span>
    <span id="duration">0:00</span>
  </div>

  <div class="controls">
    <button class="small" id="prev">‚èÆ</button>
    <button class="ctrl" id="play">‚ñ∂</button>
    <button class="small" id="next">‚è≠</button>
  </div>

  <audio id="audio"></audio>
</div>

<script>
const songs = [
  {
    title:"About You",
    artist:"The 1975",
    src:"lagu/aboutyou.mp3",
    cover:"cover/cover1.jpg"
  },
  {
    title:"Happiness",
    artist:"The 1975",
    src:"lagu/happiness.mp3",
    cover:"cover/cover2.jpg"
  }
];

let i = 0;
let isShuffle = false;

const audio = document.getElementById("audio");
const cover = document.getElementById("cover");
const title = document.getElementById("title");
const artist = document.getElementById("artist");
const playBtn = document.getElementById("play");
const prevBtn = document.getElementById("prev");
const nextBtn = document.getElementById("next");
const progress = document.getElementById("progress");
const current = document.getElementById("current");
const duration = document.getElementById("duration");
const shuffleBtn = document.getElementById("shuffleBtn");

function loadSong(){
  audio.src = songs[i].src;
  cover.src = songs[i].cover;
  title.textContent = songs[i].title;
  artist.textContent = songs[i].artist;
}
loadSong();

playBtn.onclick = ()=>{
  if(audio.paused){
    audio.play();
    playBtn.textContent="‚è∏";
  }else{
    audio.pause();
    playBtn.textContent="‚ñ∂";
  }
};

nextBtn.onclick = ()=>{
  if(isShuffle){
    let n;
    do{
      n=Math.floor(Math.random()*songs.length);
    }while(n===i);
    i=n;
  }else{
    i=(i+1)%songs.length;
  }
  loadSong();
  audio.play();
  playBtn.textContent="‚è∏";
};

prevBtn.onclick = ()=>{
  i=(i-1+songs.length)%songs.length;
  loadSong();
  audio.play();
  playBtn.textContent="‚è∏";
};

shuffleBtn.onclick=()=>{
  isShuffle=!isShuffle;
  shuffleBtn.classList.toggle("active",isShuffle);
};

audio.ontimeupdate=()=>{
  progress.value=(audio.currentTime/audio.duration)*100||0;
  current.textContent=format(audio.currentTime);
};

audio.onloadedmetadata=()=>{
  duration.textContent=format(audio.duration);
};

progress.oninput=()=>{
  audio.currentTime=(progress.value/100)*audio.duration;
};

function format(t){
  let m=Math.floor(t/60);
  let s=Math.floor(t%60);
  return m+":"+(s<10?"0"+s:s);
}
</script>
</body>
</html>
